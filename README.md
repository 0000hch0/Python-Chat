# 🚀 **局域网聊天工具使用教程**  

本教程将指导你如何使用基于 Python 的局域网聊天工具，包括服务端和客户端的配置、运行方法，以及如何通过 **SakuraFRP** 实现异地通讯。  

---

## 📌 **目录**  
1. [环境准备](#-环境准备)  
2. [服务端配置](#-服务端配置)  
3. [客户端配置](#-客户端配置)  
4. [局域网内聊天测试](#-局域网内聊天测试)  
5. [通过 SakuraFRP 实现异地通讯](#-通过-sakurafrp-实现异地通讯)  
6. [常见问题](#-常见问题)  

---

## 🛠 **环境准备**  
### **1. 安装 Python**  
- 确保你的电脑已安装 **Python 3.6+**  
- 下载地址：[Python 官网](https://www.python.org/downloads/)  

### **2. 安装依赖库**  
在终端运行以下命令安装必要的库：  
```bash
pip install tkinter scrolledtext
```
（`tkinter` 通常已随 Python 安装，无需额外安装）  

---

## 💻 **服务端配置**  
### **1. 下载服务端代码**  
将 `server.py` 保存到你的电脑（代码见前文）。  

### **2. 运行服务端**  
在终端进入 `server.py` 所在目录，运行：  
```bash
python server.py
```
默认监听 `0.0.0.0:12345`，如需修改端口，可编辑代码中的 `host` 和 `port` 变量。  

✅ **成功运行后，你会看到：**  
```
服务器已启动，监听 0.0.0.0:12345
```

---

## 📱 **客户端配置**  
### **1. 下载客户端代码**  
将 `client.py` 保存到你的电脑（代码见前文）。  

### **2. 运行客户端**  
在终端进入 `client.py` 所在目录，运行：  
```bash
python client.py
```
✅ **客户端界面如下：**  
![客户端界面]([https://via.placeholder.com/400x300?text=Chat+Client+UI](https://pic.616pic.com/ys_img/00/09/68/aYu8gILa1k.jpg))  

### **3. 连接服务器**  
- **服务器地址**：输入服务端的局域网 IP（如 `192.168.1.100`）  
- **端口**：`12345`（默认）  
- **昵称**：自定义你的用户名  
- 点击 **"连接"**  

---

## 🌐 **局域网内聊天测试**  
1. **发送文字消息**  
   - 在输入框输入文字，点击 **"发送"**  
   - 所有客户端和服务端都会收到消息  

2. **发送文件/图片**  
   - 点击 **"发送文件"**，选择文件  
   - 接收方会弹出确认窗口，同意后文件保存至 `received_files` 目录  

---

## 🌍 **通过 SakuraFRP 实现异地通讯**  
如果你的朋友不在同一局域网，可以使用 **SakuraFRP** 进行内网穿透。  

### **1. 注册 SakuraFRP 账号**  
- 官网：[https://www.natfrp.com/](https://www.natfrp.com/)  

### **2. 创建隧道**  
1. 登录后进入 **"隧道列表"** → **"创建隧道"**  
2. 选择 **"TCP"** 协议，填写：  
   - **本地IP**：`127.0.0.1`（如果服务端运行在本机）  
   - **本地端口**：`12345`（与服务端端口一致）  
3. 选择 **"境外节点"**（如日本东京，无需备案）  

### **3. 启动 SakuraFRP 客户端**  
1. 下载对应系统的客户端：[SakuraFRP 下载页](https://www.natfrp.com/user/download)  
2. 运行并登录：  
   ```bash
   ./frpc -f <你的隧道ID>
   ```
3. 你会得到一个 **公网IP:端口**（如 `123.123.123.123:12345`）  

### **4. 客户端连接公网服务器**  
- 在客户端输入 **SakuraFRP 提供的公网IP和端口**  
- 点击 **"连接"**，即可实现异地聊天  

---

## ❓ **常见问题**  
### **Q1: 客户端连接失败**  
- 检查服务端是否运行  
- 检查防火墙是否放行 `12345` 端口  

### **Q2: 文件传输失败**  
- 确保 `received_files` 目录存在  
- 检查网络是否稳定  

### **Q3: SakuraFRP 速度慢**  
- 尝试更换节点（如香港、新加坡）  
- 免费版限速，可考虑付费升级  

---

## 🎉 **总结**  
✅ **局域网内使用**：直接运行 `server.py` 和 `client.py`  
✅ **异地使用**：通过 SakuraFRP 映射 `12345` 端口  
✅ **文件传输**：支持图片、文档等任意文件  

现在你可以愉快地和朋友聊天了！ 🚀💬
